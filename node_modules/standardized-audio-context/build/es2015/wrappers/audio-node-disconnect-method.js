export const wrapAudioNodeDisconnectMethod = (audioNode) => {
    const destinations = new Map();
    audioNode.connect = ((connect) => {
        return (destination, output = 0, input = 0) => {
            destinations.set(destination, { input, output });
            if (destination instanceof AudioNode) {
                return connect.call(audioNode, destination, output, input);
            }
            return connect.call(audioNode, destination, output);
        };
    })(audioNode.connect);
    audioNode.disconnect = ((disconnect) => {
        return (outputOrDestination, _output, _input) => {
            disconnect.apply(audioNode);
            if (outputOrDestination === undefined) {
                destinations.clear();
            }
            else if (destinations.has(outputOrDestination)) {
                destinations.delete(outputOrDestination);
                destinations.forEach(({ input, output }, dstntn) => {
                    audioNode.connect(dstntn, input, output);
                });
            }
        };
    })(audioNode.disconnect);
};
//# sourceMappingURL=/build/es2015/wrappers/audio-node-disconnect-method.js.map