import { assignNativeAudioNodeOptions } from '../helpers/assign-native-audio-node-options';
import { wrapChannelMergerNode } from '../wrappers/channel-merger-node';
export var createNativeChannelMergerNode = function (nativeContext, options) {
    if (options === void 0) { options = {}; }
    var nativeNode = nativeContext.createChannelMerger((options.numberOfInputs === undefined) ? 6 : options.numberOfInputs);
    assignNativeAudioNodeOptions(nativeNode, options);
    // Bug #15: Safari does not return the default properties.
    if (nativeNode.channelCount !== 1 &&
        nativeNode.channelCountMode !== 'explicit') {
        wrapChannelMergerNode(nativeContext, nativeNode);
    }
    // Bug #16: Firefox does not throw an error when setting a different channelCount or channelCountMode.
    try {
        nativeNode.channelCount = (options.numberOfInputs === undefined) ? 6 : options.numberOfInputs;
        wrapChannelMergerNode(nativeContext, nativeNode);
    }
    catch (err) { } // tslint:disable-line:no-empty
    return nativeNode;
};
//# sourceMappingURL=/build/es2015/factories/native-channel-merger-node.js.map